@import "tailwindcss";

/* ========================================
   SETU - Nepal Government Services Platform
   Tailwind v4 Design System
   ======================================== */

/* Tailwind v4 Theme Configuration */
@theme {
  /* Nepal National Colors */
  --color-nepal-crimson: #DC143C;
  --color-nepal-crimson-dark: #B91030;
  --color-nepal-crimson-light: #E84368;
  --color-nepal-crimson-50: #FFF5F5;
  --color-nepal-crimson-100: #FEE2E2;
  --color-nepal-crimson-200: #FECACA;
  --color-nepal-crimson-300: #F87171;
  --color-nepal-crimson-700: #B91C1C;
  --color-nepal-blue: #003893;
  --color-nepal-blue-dark: #002D75;
  --color-nepal-blue-light: #1A4FA8;
  --color-nepal-blue-50: #EFF6FF;
  --color-nepal-blue-100: #DBEAFE;
  --color-nepal-blue-200: #BFDBFE;
  --color-nepal-blue-800: #1E3A5F;

  /* Primary aliases (for easier migration) */
  --color-primary-crimson: #DC143C;
  --color-primary-blue: #003893;

  /* Semantic Colors */
  --color-background: #FAFBFC;
  --color-background-secondary: #F1F5F9;
  --color-foreground: #0F172A;
  --color-foreground-secondary: #475569;
  --color-foreground-muted: #64748B;

  /* Surface Colors (UI panels, cards) */
  --color-surface: #F8FAFC;
  --color-surface-hover: #F1F5F9;

  /* UI Colors */
  --color-card: #FFFFFF;
  --color-card-hover: #F8FAFC;
  --color-border: #E2E8F0;
  --color-border-strong: #CBD5E1;
  --color-input: #FFFFFF;
  --color-ring: #003893;

  /* Status Colors */
  --color-success: #059669;
  --color-success-bg: #D1FAE5;
  --color-success-border: #6EE7B7;
  --color-warning: #D97706;
  --color-warning-bg: #FEF3C7;
  --color-warning-border: #FCD34D;
  --color-error: #DC2626;
  --color-error-bg: #FEE2E2;
  --color-error-border: #FCA5A5;
  --color-info: #0284C7;
  --color-info-bg: #E0F2FE;
  --color-info-border: #7DD3FC;

  /* Priority Colors */
  --color-priority-high: #DC2626;
  --color-priority-high-bg: #FEE2E2;
  --color-priority-medium: #D97706;
  --color-priority-medium-bg: #FEF3C7;
  --color-priority-low: #059669;
  --color-priority-low-bg: #D1FAE5;

  /* Font families */
  --font-sans: var(--font-inter), ui-sans-serif, system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
  --font-serif: var(--font-merriweather), ui-serif, Georgia, Cambria, serif;
  --font-nepali: "Noto Sans Devanagari", "Mukta", sans-serif;

  /* Shadows */
  --shadow-sm: 0 1px 2px 0 rgb(0 0 0 / 0.05);
  --shadow-md: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
  --shadow-lg: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);
  --shadow-xl: 0 20px 25px -5px rgb(0 0 0 / 0.1), 0 8px 10px -6px rgb(0 0 0 / 0.1);

  /* Border Radius */
  --radius-sm: 0.375rem;
  --radius-md: 0.5rem;
  --radius-lg: 0.75rem;
  --radius-xl: 1rem;
  --radius-2xl: 1.5rem;
  --radius-full: 9999px;

  /* Animations */
  --animate-fade-in: fade-in 0.3s ease-out forwards;
  --animate-fade-in-up: fade-in-up 0.4s ease-out forwards;
  --animate-slide-in-right: slide-in-right 0.3s ease-out forwards;
  --animate-skeleton: skeleton-loading 1.5s ease-in-out infinite;
  --animate-accordion-down: accordion-down 0.2s ease-out;
  --animate-accordion-up: accordion-up 0.2s ease-out;
}

/* Keyframe Animations */
@keyframes fade-in {
  from { opacity: 0; transform: translateY(10px); }
  to { opacity: 1; transform: translateY(0); }
}

@keyframes fade-in-up {
  from { opacity: 0; transform: translateY(20px); }
  to { opacity: 1; transform: translateY(0); }
}

@keyframes slide-in-right {
  from { opacity: 0; transform: translateX(20px); }
  to { opacity: 1; transform: translateX(0); }
}

@keyframes skeleton-loading {
  0% { background-position: 200% 0; }
  100% { background-position: -200% 0; }
}

@keyframes accordion-down {
  from { height: 0; }
  to { height: var(--radix-accordion-content-height); }
}

@keyframes accordion-up {
  from { height: var(--radix-accordion-content-height); }
  to { height: 0; }
}

/* Base Layer - Low specificity, can be overridden by utilities */
@layer base {
  * {
    border-color: var(--color-border);
  }

  html {
    scroll-behavior: smooth;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }

  body {
    @apply bg-background text-foreground font-sans;
  }

  /* Typography - using @apply for Tailwind utility integration */
  h1, h2, h3, h4, h5, h6 {
    @apply font-serif font-semibold text-foreground;
    line-height: 1.3;
  }

  h1 { @apply text-4xl md:text-5xl; }
  h2 { @apply text-3xl md:text-4xl; }
  h3 { @apply text-2xl md:text-3xl; }
  h4 { @apply text-xl md:text-2xl; }
  h5 { @apply text-lg md:text-xl; }
  h6 { @apply text-base md:text-lg; }
}

/* Components Layer */
@layer components {
  /* Container */
  .container-custom {
    @apply w-full max-w-7xl mx-auto px-4 sm:px-6 lg:px-8;
  }

  /* Nepali Text */
  .nepali-text {
    font-family: var(--font-nepali);
  }

  /* Custom Gradients */
  .bg-gradient-nepal {
    background: linear-gradient(135deg, var(--color-nepal-crimson) 0%, var(--color-nepal-blue) 100%);
  }

  .bg-gradient-blue {
    background: linear-gradient(135deg, var(--color-nepal-blue) 0%, var(--color-nepal-blue-dark) 100%);
  }

  .bg-gradient-crimson {
    background: linear-gradient(135deg, var(--color-nepal-crimson) 0%, var(--color-nepal-crimson-dark) 100%);
  }

  .bg-gradient-hero {
    background: linear-gradient(180deg, var(--color-nepal-blue) 0%, #002366 100%);
  }

  /* Step Timeline */
  .step-timeline {
    @apply relative pl-8;
  }

  .step-timeline::before {
    content: '';
    @apply absolute left-2.5 top-0 bottom-0 w-0.5 bg-border;
  }

  .step-timeline-item {
    @apply relative pb-8 last:pb-0;
  }

  .step-timeline-marker {
    @apply absolute -left-8 w-6 h-6 bg-nepal-blue rounded-full flex items-center justify-center text-white text-xs font-semibold z-10;
  }

  .step-timeline-item.completed .step-timeline-marker {
    @apply bg-success;
  }

  /* Loading Skeleton */
  .skeleton {
    background: linear-gradient(
      90deg,
      var(--color-background-secondary) 25%,
      var(--color-border) 50%,
      var(--color-background-secondary) 75%
    );
    background-size: 200% 100%;
    @apply animate-skeleton rounded-md;
  }

  /* Spinner */
  .spinner {
    @apply w-8 h-8 rounded-full animate-spin;
    border: 3px solid var(--color-border);
    border-top-color: var(--color-nepal-blue);
  }

  .spinner-sm {
    @apply w-4 h-4;
    border-width: 2px;
  }

  .spinner-lg {
    @apply w-12 h-12;
    border-width: 4px;
  }
}

/* Utilities Layer */
@layer utilities {
  /* Text utilities */
  .text-balance {
    text-wrap: balance;
  }

  .truncate-2 {
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }

  .truncate-3 {
    display: -webkit-box;
    -webkit-line-clamp: 3;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }

  /* Animation delays */
  .stagger-1 { animation-delay: 0.1s; }
  .stagger-2 { animation-delay: 0.2s; }
  .stagger-3 { animation-delay: 0.3s; }
  .stagger-4 { animation-delay: 0.4s; }
  .stagger-5 { animation-delay: 0.5s; }
}

/* Custom Scrollbar - outside layers for browser prefixes */
::-webkit-scrollbar {
  width: 8px;
  height: 8px;
}

::-webkit-scrollbar-track {
  @apply bg-background-secondary rounded-full;
}

::-webkit-scrollbar-thumb {
  @apply bg-border-strong rounded-full;
}

::-webkit-scrollbar-thumb:hover {
  @apply bg-foreground-muted;
}

/* Selection */
::selection {
  @apply bg-nepal-blue text-white;
}

/* Print Styles */
@media print {
  header, footer, .no-print, nav {
    display: none !important;
  }

  body {
    @apply bg-white text-black;
    font-size: 12pt;
  }

  a {
    @apply underline text-black;
  }

  a[href]::after {
    content: " (" attr(href) ")";
    font-size: 0.8em;
  }
}
